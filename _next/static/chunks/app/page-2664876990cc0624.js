(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4233:(e,t,n)=>{Promise.resolve().then(n.bind(n,9365))},9365:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(5155),s=n(2115),a=n(5565),l=n(7365);let i=()=>{let e=(0,s.useRef)(null),[t,n]=(0,s.useState)(!1),r=(0,s.useCallback)(()=>{if(e.current){let t=e.current,n=document;document.fullscreenElement?n.exitFullscreen?n.exitFullscreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.msExitFullscreen&&n.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}},[]);return(0,s.useEffect)(()=>{let e=()=>{n(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e)}},[]),[e,r,t]};function c(e){let{Icon:t,active:n,onClick:s}=e;return(0,r.jsxs)("button",{onClick:s,className:"flex flex-row items-center p-0.5 group",children:[(0,r.jsx)(t,{className:"w-5 h-5 transition-colors duration-300 ease-in-out group-hover:text-white ".concat(n?"text-accent":"text-gray")}),(0,r.jsx)(l.bDP,{className:"w-4 h-4 transition-colors duration-300 ease-in-out  group-hover:text-white ".concat(n?"rotate-180 text-accent":"text-gray")})]})}function o(e){let{items:t,selected:n,onClick:s}=e,a=t.map(e=>(0,r.jsxs)("li",{onClick:()=>s(e.id),className:"px-3 py-2 flex items-center space-x-2 font-bold cursor-pointer rounded-lg transition-colors duration-300 ease-in-out hover:bg-accent/10 ".concat(n==e.id?"text-accent bg-accent/10":"text-gray hover:text-accent"),children:[(0,r.jsx)(e.icon,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:e.name})]},e.id));return(0,r.jsx)("div",{className:"z-50 absolute -left-20 top-10 p-2 w-52 text-[11pt] rounded-lg bg-foreground shadow-2xl",children:(0,r.jsx)("ul",{className:"space-y-1",children:a})})}function d(e){let{items:t,selected:n,onClick:s}=e,a=t.map(e=>(0,r.jsxs)("li",{onClick:()=>s(e.id),className:"group flex flex-col items-center font-bold text-center cursor-pointer text-[11pt] transition-colors duration-300 ease-in-out ".concat(!0==n[e.id]?"text-accent":"text-gray hover:text-white"),children:[(0,r.jsx)("div",{style:{backgroundImage:'url("'+e.thumbnail+'")'},className:"relative w-[5.5rem] h-[5.5rem] bg-cover bg-center rounded-xl mb-1 border-4 ".concat(!0==n[e.id]?"border-accent":"border-foreground"),children:!0==n[e.id]&&(0,r.jsx)("div",{className:"flex absolute right-0 bottom-0 justify-center items-center m-2 w-6 h-6 rounded-lg bg-accent",children:(0,r.jsx)(l.Srz,{className:"w-5 h-5 text-foreground"})})}),e.name]},e.id));return(0,r.jsxs)("div",{className:"z-50 absolute -left-14 top-10 py-4 px-2 w-[9.7rem] text-[11pt] rounded-lg bg-foreground shadow-2xl",children:[(0,r.jsx)("ul",{className:"space-y-4",children:a}),(0,r.jsx)("p",{className:"mt-3 text-[9pt] text-center text-gray/60",children:"Select up to 2 at a time."})]})}function u(e){let{children:t,disabled:n,onClick:s}=e;return(0,r.jsx)("button",{onClick:s,disabled:n,className:"p-0.5 transition-colors duration-300 ease-in-out  ".concat(n?"text-gray/50":"text-gray hover:text-white"),children:t})}var x=n(8157);function m(e){switch(e){case 0:return"";case 1:return"grayscale";case 2:return"high-contrast";case 3:return"gaussian-blur"}}function h(e){let{file:t,imageFilters:n,gridMode:s,onFileDrop:a,isFullscreen:i}=e;for(var c=[],o=0;o<n.length;o++)!0==n[o]&&c.push(o);var d=n.filter(e=>!0==e).length>1;return(0,r.jsxs)("div",{onDrop:e=>a(e),onDragOver:e=>e.preventDefault(),id:"imageCanvas",className:"relative w-auto grid-overlay ".concat(function(e){switch(e){case 0:return"grid-none";case 1:return"grid-vertical";case 2:return"grid-horizontal";case 3:return"grid-thirds"}}(s)," ").concat(!0==i?"fs":""),children:[(0,r.jsx)("div",{id:"horizontalTop",className:"absolute z-40 w-full h-[1px] bg-white/50"}),(0,r.jsx)("div",{id:"horizontalBottom",className:"absolute z-40 w-full h-[1px] bg-white/50"}),(0,r.jsx)("div",{id:"verticalLeft",className:"absolute z-40 w-[1px] h-full bg-white/50"}),(0,r.jsx)("div",{id:"verticalRight",className:"absolute z-40 w-[1px] h-full bg-white/50"}),d?(0,r.jsxs)(x.ImgComparisonSlider,{className:"slider",children:[(0,r.jsx)("img",{className:m(c[0]),slot:"first",src:t,alt:t.name}),(0,r.jsx)("img",{className:m(c[1]),slot:"second",src:t,alt:t.name}),(0,r.jsxs)("div",{slot:"handle",className:"inline-flex",children:[(0,r.jsx)(l.YJP,{className:"w-6 h-6 text-white/60"}),(0,r.jsx)(l.vKP,{className:"w-6 h-6 text-white/60"})]})]}):(0,r.jsx)("img",{className:m(c[0]),src:t,alt:t.name})]})}function f(e){let{fileIsValid:t,onFileUpload:n,onFileDrop:s}=e;return(0,r.jsx)("div",{id:"uploadArea",onDrop:e=>s(e),onDragOver:e=>e.preventDefault(),className:"flex justify-center px-5 mx-5 transition duration-300 ease-in-out cursor-pointer group bg-foreground/15 hover:bg-foreground/10 dark:bg-foreground dark:hover:bg-foreground/90 outline-dashed outline-gray dark:outline-gray/30 dark:hover:outline-gray/40 outline-2 outline-offset-2",children:(0,r.jsxs)("label",{htmlFor:"dropzone",className:"flex flex-col justify-center text-center cursor-pointer",children:[(0,r.jsx)(l.JMY,{className:"mx-auto w-12 h-12 transition duration-300 ease-in-out rotate-3 group-hover:rotate-0 text-foreground/50 dark:text-gray"}),(0,r.jsx)("h2",{className:"mt-4 text-2xl font-bold text-foreground/50 dark:text-gray",children:"Click to upload or drag and drop"}),(0,r.jsx)("h3",{className:"my-3 text-base font-bold text-foreground/25 dark:text-gray/50",children:"JPG, JPEG, or PNG file"}),!1==t&&(0,r.jsxs)("div",{className:"flex flex-row items-center mx-auto mt-3 space-x-2",children:[(0,r.jsx)(l.Pip,{className:"w-4 h-4 text-red-300"}),(0,r.jsx)("p",{className:"text-sm text-red-300",children:"Must be a JPG, JPEG, or PNG file."})]}),(0,r.jsx)("input",{id:"dropzone",type:"file",className:"hidden",onChange:n,accept:"image/x-png,image/jpeg"})]})})}function g(e){let{items:t}=e,n=t.map(e=>(0,r.jsxs)("li",{onClick:()=>(function(e){switch(e){case 0:window.open("mailto:hi@noahrahm.com","_blank");break;case 1:window.open("https://reference8.com","_blank");break;case 2:window.open("https://github.com/Correct-Syntax/reference8","_blank")}})(e.id),className:"flex z-50 items-center px-3 py-2 space-x-2 font-bold rounded-lg transition-colors duration-300 ease-in-out cursor-pointer text-gray hover:text-white",children:[(0,r.jsx)(e.icon,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:e.name})]},e.id));return(0,r.jsxs)("div",{className:"z-50 absolute -left-1 top-10 p-2 w-52 text-[11pt] rounded-lg bg-foreground shadow-2xl",children:[(0,r.jsx)("ul",{className:"mb-1 space-y-1",children:n}),(0,r.jsx)("small",{className:"relative px-3 text-xs text-gray/70",children:"Reference8 v0.3.0 build 3"})]})}let p=()=>{let e=(0,s.useRef)(null),[t,n]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let r=r=>{e.current&&e.current.contains(r.target)?n(!t):n(!1)};return window.addEventListener("click",r),()=>{window.removeEventListener("click",r)}},[]),[e,t,n]},b=[{id:0,name:"Send Feedback",icon:l.cFt},{id:1,name:"Visit Website",icon:l.fCU},{id:2,name:"GitHub Repository",icon:l.ERf}],j=[{id:0,name:"None",icon:l.ddx},{id:1,name:"Vertical",icon:l.xrv},{id:2,name:"Horizontal",icon:l.JSY},{id:3,name:"Grid",icon:l.Tvv}],v=[{id:0,name:"Original",thumbnail:"/original.jpg"},{id:1,name:"Grayscale",thumbnail:"/grayscale.jpg"},{id:2,name:"High Contrast",thumbnail:"high-contrast.jpg"},{id:3,name:"Blur",thumbnail:"blur.jpg"}];function w(){let[e,t,n]=i(),[x,m]=(0,s.useState)(!0),[w,N,y]=p(),[k,E]=(0,s.useState)(0),[C,F]=(0,s.useState)([!0,!1,!1,!1]),[z,S,R]=p(),[L,P,D]=p(),[G,I]=(0,s.useState)(null),[_,J]=(0,s.useState)(null);function O(e){e.preventDefault(),q(e.dataTransfer.files[0])}function q(e){!0===/\.(jpe?g|png)$/i.test(e.name)?(J(!0),I(URL.createObjectURL(e))):J(!1)}return(0,r.jsxs)("div",{ref:e,className:"flex flex-col overflow-hidden ".concat(!0==x?"dark bg-background":"bg-foreground/10"),children:[(0,r.jsxs)("nav",{className:"flex z-50 flex-row justify-between items-center px-5 py-3 ".concat(n?"absolute top-1 left-1 w-full rounded-lg opacity-0 transition-opacity duration-300 bg-foreground/40 hover:opacity-100":"bg-foreground"),children:[(0,r.jsxs)("div",{className:"flex relative justify-center items-center",children:[(0,r.jsxs)("div",{ref:w,tabIndex:0,className:"inline-flex items-center space-x-2 group hover:cursor-pointer",children:[(0,r.jsx)(a.default,{className:"h-min ".concat(n?"opacity-70":""),src:"/logo-icon.png",alt:"Logo",width:22,height:22,priority:!0}),(0,r.jsx)("span",{className:"font-bold transition-colors duration-300 ease-in-out group-hover:text-white ".concat(!0==N?"text-accent":"text-gray"),children:"Reference8"})]}),N&&(0,r.jsx)(g,{items:b})]}),(0,r.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,r.jsxs)("div",{className:"flex relative",ref:L,tabIndex:0,children:[(0,r.jsx)(c,{Icon:l.cgp,active:P}),P&&(0,r.jsx)(d,{items:v,selected:C,onClick:function(e){F(C.map((t,n)=>{if(n!=e)return t;var r=C.filter(e=>!0==e).length;return(!(r>1)||!(r<3))&&(r>=1||!t)}))}})]}),(0,r.jsxs)("div",{className:"flex relative",ref:z,tabIndex:0,children:[(0,r.jsx)(c,{Icon:j[k].icon,active:S}),S&&(0,r.jsx)(o,{items:j,selected:k,onClick:function(e){E(e),R(!1)}})]})]}),(0,r.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,r.jsx)("hr",{className:"border-white"}),(0,r.jsx)(u,{onClick:function(){m(!x)},children:x?(0,r.jsx)(l.gLX,{className:"w-5 h-5"}):(0,r.jsx)(l.rRK,{className:"w-5 h-5"})}),(0,r.jsx)(u,{disabled:!0!==_,onClick:t,children:n?(0,r.jsx)(l.rFx,{className:"w-5 h-5"}):(0,r.jsx)(l.hIv,{className:"w-5 h-5"})})]})]}),(0,r.jsx)("main",{id:"main",className:"flex justify-center items-center py-6 ".concat(n?"fullscreen":""),children:null==G?(0,r.jsx)(f,{fileIsValid:_,onFileUpload:function(e){q(e.target.files[0])},onFileDrop:O}):(0,r.jsx)(h,{file:G,imageFilters:C,gridMode:k,onFileDrop:O,isFullscreen:n})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[105,777,441,517,358],()=>t(4233)),_N_E=e.O()}]);